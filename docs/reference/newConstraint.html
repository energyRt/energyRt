<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create constraint object to add custom constraints to the model. — newConstraint • energyRt</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create constraint object to add custom constraints to the model. — newConstraint"><meta name="description" content="The function creates a new constraint object that can be used
to add custom constraints to the model."><meta property="og:description" content="The function creates a new constraint object that can be used
to add custom constraints to the model."><meta property="og:image" content="https://energyRt.org/logo.png"><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-CYBYJ238Q5"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CYBYJ238Q5');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">energyRt</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.50.09.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/energyRt.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials"><li><a class="dropdown-item" href="../articles/install.html">Installation</a></li>
    <li><a class="dropdown-item" href="../articles/helloworld.html">Hello World!</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../articles/roadmap.html">Roadmap</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/logo.html">Logo</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/energyRt/energyRt/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create constraint object to add custom constraints to the model.</h1>
      <small class="dont-index">Source: <a href="https://github.com/energyRt/energyRt/blob/HEAD/R/class-constraint.R" class="external-link"><code>R/class-constraint.R</code></a></small>
      <div class="d-none name"><code>newConstraint.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The function creates a new constraint object that can be used
to add custom constraints to the model.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">newConstraint</span><span class="op">(</span></span>
<span>  <span class="va">name</span>,</span>
<span>  desc <span class="op">=</span> <span class="st">""</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  eq <span class="op">=</span> <span class="st">"=="</span>,</span>
<span>  for.each <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rhs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  defVal <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  interpolation <span class="op">=</span> <span class="st">"inter"</span>,</span>
<span>  replace_zerros <span class="op">=</span> <span class="fl">1e-20</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">isConstraint</span><span class="op">(</span><span class="va">object</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">newConstraintS</span><span class="op">(</span></span>
<span>  <span class="va">name</span>,</span>
<span>  <span class="va">type</span>,</span>
<span>  eq <span class="op">=</span> <span class="st">"=="</span>,</span>
<span>  rhs <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  for.sum <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  for.each <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  defVal <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  rule <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  comm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cout <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  cinp <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  aout <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ainp <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>character. Name of the constraint object, used in sets.</p></dd>


<dt id="arg-desc">desc<a class="anchor" aria-label="anchor" href="#arg-desc"></a></dt>
<dd><p>character. Description of the constraint.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>named or unnamed list(s) of left-hand side (LHS)
linear terms (summands) to define the constraint.
Every summand is defined as a list with the following elements:</p><ul><li><p><code>variable</code> - name of the variable in the summand.</p></li>
<li><p><code>mult</code> - multiplier for the variable in the summand.</p></li>
<li><p><code>for.sum</code> - list of sets for which the summand is defined.
The summands can be passed as named or unnamed lists.
They will be added to the <code>lhs</code> slot of the constraint object
as linear terms of mulipliers and variables.</p></li>
</ul></dd>


<dt id="arg-eq">eq<a class="anchor" aria-label="anchor" href="#arg-eq"></a></dt>
<dd><p>Type of the relation ('==' default, '&lt;=', '&gt;=')</p></dd>


<dt id="arg-for-each">for.each<a class="anchor" aria-label="anchor" href="#arg-for-each"></a></dt>
<dd><p>list or data.frame with sets that define the dimension of the constraint.</p></dd>


<dt id="arg-rhs">rhs<a class="anchor" aria-label="anchor" href="#arg-rhs"></a></dt>
<dd><p>a numeric value, list or data frame with sets and numeric values for each constraint.
Note: zero values will be replaced with <code>replace_zerros</code> to avoid dropping them by the interpolation algorithms.</p></dd>


<dt id="arg-defval">defVal<a class="anchor" aria-label="anchor" href="#arg-defval"></a></dt>
<dd><p>numeric. The default value for the rhs. It is recommended to set the default value for the rhs of every constraint to avoid unexpected behavior. If not specified, the default value is 0, and the warning is issued.</p></dd>


<dt id="arg-interpolation">interpolation<a class="anchor" aria-label="anchor" href="#arg-interpolation"></a></dt>
<dd><p>character. Interpolation rule for the constraint. Recognized values, any combination of "back", "inter", "forth", e.g., "back.inter" or "forth.inter", indicating the direction of interpolation. The default value is "inter", meaning that the interpolation is done for years between the specified values. The "back" and "forth" values induce backward and forward interpolation of the <code>rhs</code> values, respectively.</p></dd>


<dt id="arg-replace-zerros">replace_zerros<a class="anchor" aria-label="anchor" href="#arg-replace-zerros"></a></dt>
<dd><p>numeric value to replace zero values in <code>rhs</code> and <code>defVal</code>. Default is <code>1e-20</code>.</p></dd>


<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>any R object</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Object of class <code>constraint</code>.</p>
<p>TRUE if the object inherits class <code>constraint</code>, FALSE otherwise.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Custom constraints extend the functionality of the model by adding
user-defined constraints to the optimization problem.
If the predefined constraints are not sufficient to describe the problem,
custom constraints can be used to add linear equlity or inequality
constraints to define additional relationships between the variables.
In many cases this can be done without writing constraints in the GAMS,
Julia/JuMP, Python/Pyomo, or GLPK-MathProg languages by using the
<code>constrant</code> class and the <code>newConstraint</code> function.
To define a custom constraint with the <code>newConstraint</code> function,
the user needs to specify the name of the constraint, the type of the
relation (equality, less than or equal, greater than or equal), the
left-hand side (LHS) terms of the statement, and the right-hand side (RHS) value.
The dimension of the constraint is set by the <code>for.each</code> parameter.
The 'lhs' terms are defined as a list of linear terms (summands).
Each summand consists of a variable, a multiplier, and a set of sets
for which the summand is defined.</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>

<ul><li><p><code>isConstraint()</code>: Check if an object is a constraint.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other class constraint policy:
<code><a href="class-constraint.html">class-constraint</a></code>,
<code><a href="class-costs.html">class-costs</a></code>,
<code><a href="newCosts.html">newCosts</a>()</code>,
<code><a href="newSubsidy.html">newSubsidy</a>()</code>,
<code><a href="newTax.html">newTax</a>()</code>,
<code><a href="class-subsidy.html">subsidy-class</a></code>,
<code><a href="class-tax.html">tax-class</a></code></p>
<p>Other class constraint:
<code><a href="class-constraint.html">class-constraint</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">isConstraint</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-in"><span><span class="fu">isConstraint</span><span class="op">(</span><span class="fu">newConstraint</span><span class="op">(</span><span class="st">""</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>It is advisable to define 'defVal' parameter.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>energyRt</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

